<!DOCTYPE html>
<html lang = "EN">
    <head>
        <meta charset="utf-8">
        <meta name="viewport" content="width=device-width, initial-scale=1.0">
        <title>Flip Match Card</title>
        <link rel="stylesheet" href="./style/style.css">
        <link rel="preconnect" href="https://fonts.googleapis.com">
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link href="https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@100..900&family=Open+Sans:ital,wght@0,300..800;1,300..800&display=swap" rel="stylesheet">
    </head>
    <body class="body">
        <section id="home_screen" class="home-screen game-wrapper">
            <div class="home-content">
                <div class="title"></div>
                <h1 class="h1">Test your memory and<br>flip your way to abundance!</h1>
                <p class="desc">Flip the tiles, match the seafood, and unlock abundance for the year ahead!</p>
            </div>
            <div class="action">
                <audio id="click-sound">
                    <source src="/assets/CTA-button-tap.mp3" type="audio/mpeg">
                </audio>
                <div class="btn btn--play">Play</div>
                <div class="btn btn--rank">Rank</div>
            </div>
            <video class="bg-video" width="261px" height="196px" autoplay muted loop>
                <source src="/assets/DBS_Springfest_Idle.mov">
            </video>
        </section>
        <section id="game-screen" class="game-screen game-wrapper is-hidden">
            <div class="countdown">
                <p>GAME TIME</p>
                <div class="time-down">00:30</div>
                <img class="time-bg" src="/assets/game-time-bg.png" alt="">
            </div>
            <div class="game-area">
                <h1 class="h1">Flip and match 3 seafood pairs!</h1>
                <div class="cards-game">
                    <template id="card-template">
                        <div class="card-wrapper">
                            <div class="card-inner">
                                <img class="card-back" src="/assets/card-back.png">
                                <img class="card-front">
                            </div>
                        </div>
                    </template>                                        
                </div>
            </div>
        </section>
        <div id="win-modal" class="modal is-hidden">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <img class="scroll-top" src="/assets/Scroll.png" alt="scroll top">
                <div class="scroll-body-wrapper">
                    <img class="scroll-body" src="/assets/Base.png" alt="scroll body">
                    <div class="modal-scroll-content">
                        <img style="width: 1538px; height: 884px;" src="/assets/Well-done.png">
                        <p class="modal-subtitle">You've flipped your<br>way to abundance!</p>
                        <!-- ADDED: Time display and name input -->
                        <p class="modal-time">Time: <span id="win-time">00:00</span></p>
                        <div class="name-input-wrapper">
                            <input type="text" id="player-name" class="player-name-input" placeholder="Enter your name" maxlength="20">
                            <div class="btn btn-save-score">Save Score</div>
                        </div>
                        <!-- END ADDED -->
                        <p class="modal-desc">Take home your<br>Seafood Plushie and let the<br>good luck swim your way.</p>
                    </div>
                </div>
                <div class="btn modal-btn-home btn--home">Home</div>
                <img class="scroll-bottom" src="/assets/Scroll.png" alt="scroll bottom">
            </div>
        </div>
        <div id="gameover-modal" class="modal is-hidden">
            <div class="modal-overlay"></div>
            <div class="modal-content">
                <img class="scroll-top" src="/assets/Scroll.png" alt="scroll top">
                <div class="scroll-body-wrapper">
                    <img class="scroll-body" src="/assets/Base.png" alt="scroll body">
                    <div class="modal-scroll-content">
                        <img style="width: 1538px;" src="/assets/times-up-text.png">
                        <p class="modal-subtitle">You matched <span id="matched-count">0</span><br>out of 3 pairs</p>
                        <p class="modal-desc">Give it another try and<br>uncover your abundance!</p>
                    </div>
                </div>
                <div class="btn modal-btn-home btn--retry">Try Again</div>
                <img class="scroll-bottom" src="/assets/Scroll.png" alt="scroll bottom">
            </div>
        </div>
        
        <!-- ADDED: Leaderboard Modal -->
        <div id="rank-modal" class="modal is-hidden">
            <div class="modal-overlay"></div>
            <div class="modal-content modal-content-rank">
                <img class="scroll-top" src="/assets/Scroll.png" alt="scroll top">
                <div class="scroll-body-wrapper scroll-body-wrapper-rank">
                    <img class="scroll-body" src="/assets/Base.png" alt="scroll body">
                    <div class="modal-scroll-content">
                        <h2 class="rank-title">üèÜ LEADERBOARD üèÜ</h2>
                        <div class="leaderboard-list" id="leaderboard-list">
                            <!-- Leaderboard will be populated here -->
                        </div>
                    </div>
                </div>
                <div class="btn modal-btn-home btn--close-rank">Close</div>
                <img class="scroll-bottom" src="/assets/Scroll.png" alt="scroll bottom">
            </div>
        </div>
        <!-- END ADDED -->
        
        <audio id="bg-music" loop>
            <source src="/assets/CNY-Looped.mp3" type="audio/mpeg">
        </audio>
        <audio id="card-flip-sound">
            <source src="/assets/Flip-card-audio.mp3" type="audio/mpeg">
        </audio>
        <audio id="match-correct-sound">
            <source src="/assets/Match-Pair.mp3" type="audio/mpeg">
        </audio>
        <audio id="match-wrong-sound">
            <source src="/assets/Wrong-Pair.mp3" type="audio/mpeg">
        </audio>
        <audio id="win-sound">
            <source src="/assets/Win.mp3" type="audio/mpeg">
        </audio>
        <audio id="times-up-sound">
            <source src="/assets/Times-Up-audio.mp3" type="audio/mpeg">
        </audio>
        
        <script src="/scripts/main.js"></script>
    </body>
</html>